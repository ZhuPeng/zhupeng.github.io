---
layout: post
title: GitHub å¼€æºé¡¹ç›® lmittmann/tint ä»‹ç»ï¼ŒğŸŒˆ slog.Handler that writes tinted (colorized) logs
tags: Go
---

å¤§å®¶å¥½ï¼Œåˆè§é¢äº†ï¼Œæˆ‘æ˜¯ GitHub ç²¾é€‰å›ï¼

ä»Šå¤©è¦ç»™å¤§å®¶æ¨èä¸€ä¸ª GitHub å¼€æºé¡¹ç›® lmittmann/tintï¼Œè¯¥é¡¹ç›®åœ¨ GitHub æœ‰å·®ä¸å¤š 1000 Starï¼Œç”¨ä¸€å¥è¯ä»‹ç»è¯¥é¡¹ç›®å°±æ˜¯ï¼šâ€œğŸŒˆ slog.Handler that writes tinted (colorized) logsâ€ã€‚



![](https://github.com/lmittmann/tint/assets/3458786/3d42f8d5-8bdf-40db-a16a-1939c88689cb)



èƒŒæ™¯ä»‹ç»ï¼š
åœ¨æ—¥å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ§åˆ¶å°æ—¥å¿—æ˜¯æˆ‘ä»¬è°ƒè¯•é—®é¢˜ã€äº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œç„¶è€Œä¼—æ‰€å‘¨çŸ¥ï¼Œä¼ ç»Ÿçš„æ§åˆ¶å°æ—¥å¿—éƒ½æ˜¯å•è°ƒçš„é»‘ç™½æ–‡æœ¬ï¼Œåˆ†æå’ŒæŸ¥çœ‹èµ·æ¥è´¹æ—¶è´¹åŠ›ï¼ŒåŒæ—¶ä¹Ÿç¼ºä¹ç¾è§‚æ€§ã€‚å¯¹äºç¼–ç¨‹è€…æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸°å¯Œå¤šå½©çš„æ—¥å¿—è¾“å‡ºï¼Œä¸ä»…å¯ä»¥æå‡æŸ¥çœ‹ä½“éªŒï¼Œä¹Ÿæ›´æœ‰åˆ©äºæˆ‘ä»¬å¿«é€Ÿå®šä½å’Œç†è§£å…³é”®ä¿¡æ¯ã€‚è¿™å°±æ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ `tint` é¡¹ç›®ã€‚

é¡¹ç›®ä»‹ç»ï¼š
`tint` æ˜¯ä¸€ä¸ªå¼€æºçš„ `slog.Handler`ï¼Œå¯ä»¥å®ç°ç»™æ—¥å¿—æ·»åŠ è‰²å½©çš„åŠŸèƒ½ã€‚å®ƒçš„è¾“å‡ºæ ¼å¼æ·±å— `zerolog.ConsoleWriter` å’Œ `slog.TextHandler` çš„å½±å“ã€‚å¹¶æä¾›è‡ªå®šä¹‰çš„ `Options`ï¼Œè®©ä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æ—¥å¿—æ ¼å¼ã€‚

å¦‚ä½•ä½¿ç”¨ï¼š
ä½ å¯ä»¥é€šè¿‡ `go get` å‘½ä»¤è½»æ¾è·å– `tint`ï¼š

```
go get github.com/lmittmann/tint
```

ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œä½ åªéœ€åœ¨æ–°å»º `logger` æ—¶ï¼Œç”¨ `tint` ä½œä¸ºå®ƒçš„ Handler å³å¯ï¼š

```go
w := os.Stderr

// create a new logger
logger := slog.New(tint.NewHandler(w, nil))
```

ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚ä¸å±•ç¤ºæ—¶é—´ï¼š

```go
// create a new logger that doesn't write the time
w := os.Stderr
logger := slog.New(
    tint.NewHandler(w, &tint.Options{
        ReplaceAttr: func(groups []string, a slog.Attr) slog.Attr {
            if a.Key == slog.TimeKey && len(groups) == 0 {
                return slog.Attr{}
            }
            return a
        },
    }),
)
``` 

é¡¹ç›®æ¨ä»‹ï¼š
`tint` æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨æ–¹ä¾¿çš„æ—¥å¿—ä»£ç†åº“ã€‚å®ƒæ— ä¾èµ–ï¼Œè½»é‡çº§ï¼Œéå¸¸é€‚åˆåœ¨å„ç±» Golang é¡¹ç›®ä¸­ä½¿ç”¨ã€‚è™½ç„¶ä½œè€… lmittmann ä¸æ˜¯éå¸¸çŸ¥åï¼Œä½†è¿™ä¸ªé¡¹ç›®çš„ä»£ç è´¨é‡å’Œè®¾è®¡éƒ½è¡¨ç°å¾—ååˆ†å‡ºè‰²ã€‚äº‹å®ä¸Šï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œæ›´åŠ å…³æ³¨çš„æ˜¯é¡¹ç›®æœ¬èº«çš„è´¨é‡ï¼Œè€Œä¸ä»…ä»…æ˜¯ä½œè€…çš„çŸ¥ååº¦ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç è´¨é‡å’Œç¨³å®šæ€§å¾—åˆ°äº†å¤§é‡ç”¨æˆ·çš„è®¤å¯ï¼Œå¦‚æœä½ æ­£åœ¨è€ƒè™‘å¯»æ‰¾ä¸€ä¸ªèƒ½å¤Ÿè¾“å‡ºå½©è‰²æ—¥å¿—çš„ Golang åº“ï¼Œ`tint` ç»å¯¹æ˜¯ä½ çš„ä¸äºŒä¹‹é€‰ã€‚


ä»¥ä¸‹æ˜¯è¯¥é¡¹ç›® Star è¶‹åŠ¿å›¾ï¼ˆä»£è¡¨é¡¹ç›®çš„æ´»è·ƒç¨‹åº¦ï¼‰ï¼š

![](https://api.star-history.com/svg?repos=lmittmann/tint&type=Timeline)

æ›´å¤šé¡¹ç›®è¯¦æƒ…è¯·æŸ¥çœ‹å¦‚ä¸‹é“¾æ¥ã€‚

å¼€æºé¡¹ç›®åœ°å€ï¼šhttps://github.com/lmittmann/tint 

å¼€æºé¡¹ç›®ä½œè€…ï¼šlmittmann

å¼€æºåè®®ï¼šMIT License

ä»¥ä¸‹æ˜¯å‚ä¸é¡¹ç›®å»ºè®¾çš„æ‰€æœ‰æˆå‘˜ï¼š

![](https://contrib.rocks/image?repo=lmittmann/tint)

å…³æ³¨æˆ‘ä»¬ï¼Œä¸€èµ·æ¢ç´¢æœ‰æ„æ€çš„å¼€æºé¡¹ç›®ã€‚

